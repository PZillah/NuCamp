<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Color Guessing Game</title>
</head>
<body>
    <h1>Color Guessing Game</h1>
    <button type="button" onclick="runGame()">Start Game</button>

<script>
    const COLORS_ARRAY = ['indigo', 'maroon', 'cyan', 'gold', 'gray', 'green', 'magenta', 'orange', 'aqua', 'yellow', 'purple'];
    const sortedCOLORS_ARRAY = COLORS_ARRAY.sort();
    

    function runGame() {
        let guess = "";
        let correct = false;
        const targetIndex = Math.floor(Math.random() * sortedCOLORS_ARRAY.length);
        const target = sortedCOLORS_ARRAY[targetIndex];
        console.log(target);
        let numTries = 0;

        do {
            guess = prompt('I am thinking of one of these colors:\n\n' + sortedCOLORS_ARRAY.join(', ') + '\n\nWhat color am I thinking of?\n');
            if (guess === null) {
                return alert("Thanks for playing! See you next time.");
            }
            lowerCaseGuess = guess.toLowerCase();
            correct = checkGuess(lowerCaseGuess, target, numTries);
            numTries += 1;
            
        } while (!correct);
        
        alert('Congratulations! You guessed the color.\n\nIt took you ' + numTries + ' guesses to finish the game!');
        document.body.style.background = lowerCaseGuess;
    }

    function checkGuess(lowerCaseGuess, target, numTries) {
        let correct = false;
        
        if (!sortedCOLORS_ARRAY.includes(lowerCaseGuess)) {
            
            alert("Sorry, I don't recognize your color.\n\nThat was guess #" + numTries + ". Please try again.");
        }
        else if (lowerCaseGuess > target) {
            
            alert("Sorry, your guess is incorrect.\n\nHint: your color is alphabetically higher than mine.\n\nThat was guess #" + numTries + ". Please try again.");
        }
        else if (lowerCaseGuess < target) {
           
            alert("Sorry, your guess is incorrect.\n\nHint: your color is alphabetically lower than mine.\n\nThat was guess #" + numTries + ". Please try again.");
        }
        else {
            correct = true;
        }
        return correct;
    }
</script>

</body>
</html>